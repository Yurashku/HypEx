<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Архитектура HypEx</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #ffffff;
            overflow: hidden;
            height: 100vh;
        }

        .presentation-container {
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .slide {
            display: none;
            max-width: 90vw;
            max-height: 90vh;
            padding: 2rem;
            text-align: center;
            animation: fadeIn 0.5s ease-in-out;
        }

        .slide.active {
            display: block;
        }

        .slide h1 {
            font-size: clamp(2rem, 5vw, 4rem);
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, #0066cc, #4a90e2);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 300;
        }

        .slide h2 {
            font-size: clamp(1.5rem, 4vw, 3rem);
            margin-bottom: 1rem;
            color: #0066cc;
            font-weight: 300;
        }

        .slide h3 {
            font-size: clamp(1.2rem, 3vw, 2rem);
            margin-bottom: 0.8rem;
            color: #4a90e2;
            font-weight: 400;
        }

        .slide p, .slide li {
            font-size: clamp(1rem, 2.5vw, 1.5rem);
            line-height: 1.6;
            margin-bottom: 1rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .slide ul {
            text-align: left;
            max-width: 600px;
            margin: 0 auto;
        }

        .slide li {
            margin-bottom: 0.8rem;
            padding-left: 1rem;
            border-left: 3px solid #00aa44;
            margin-left: 1rem;
        }

        .code-block {
            background: #000000;
            border: 1px solid #404040;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem auto;
            max-width: 600px;
            text-align: left;
            font-family: 'Courier New', monospace;
            font-size: clamp(0.8rem, 1.8vw, 1rem);
            color: #00aa44;
        }

        .architecture-diagram {
            max-width: 800px;
            margin: 1rem auto;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid #404040;
        }

        .diagram-box {
            display: inline-block;
            background: linear-gradient(135deg, #404040, #2d2d2d);
            border: 2px solid #0066cc;
            border-radius: 8px;
            padding: 0.8rem 1.2rem;
            margin: 0.5rem;
            color: #ffffff;
            font-size: clamp(0.8rem, 1.8vw, 1rem);
        }

        .executor-box {
            border-color: #4a90e2;
            background: linear-gradient(135deg, #0066cc, #4a90e2);
        }

        .data-box {
            border-color: #00aa44;
            background: linear-gradient(135deg, #00aa44, #28a745);
        }

        .experiment-box {
            border-color: #cc6600;
            background: linear-gradient(135deg, #cc6600, #ff8533);
        }

        .navigation {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 1000;
        }

        .nav-btn {
            background: rgba(0, 102, 204, 0.8);
            border: none;
            color: white;
            padding: 0.8rem 1.2rem;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(0, 102, 204, 1);
            transform: scale(1.05);
        }

        .nav-btn:disabled {
            background: rgba(64, 64, 64, 0.5);
            cursor: not-allowed;
            transform: none;
        }

        .slide-counter {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: rgba(0, 0, 0, 0.7);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            border: 1px solid #404040;
        }

        .levels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }

        .level-card {
            background: linear-gradient(135deg, #2d2d2d, #404040);
            border: 1px solid #0066cc;
            border-radius: 8px;
            padding: 1rem;
            text-align: left;
        }

        .level-card h4 {
            color: #0066cc;
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }

        .level-card p {
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .component-flow {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1rem 0;
        }

        .flow-arrow {
            font-size: 2rem;
            color: #0066cc;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        @media (max-width: 768px) {
            .slide {
                padding: 1rem;
            }
            
            .navigation {
                bottom: 1rem;
            }
            
            .nav-btn {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }
            
            .levels-grid {
                grid-template-columns: 1fr;
            }
            
            .component-flow {
                flex-direction: column;
            }
            
            .flow-arrow {
                transform: rotate(90deg);
            }
        }

        .subtitle {
            font-size: clamp(1rem, 2vw, 1.3rem);
            color: #cccccc;
            margin-bottom: 2rem;
            font-weight: 300;
        }

        .highlight {
            color: #00aa44;
            font-weight: 500;
        }

        .emphasis {
            color: #4a90e2;
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="slide-counter">
            <span id="current-slide">1</span> / <span id="total-slides">67</span>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide active">
            <h1>Архитектура HypEx</h1>
            <p class="subtitle">Модульная библиотека для статистического анализа и A/B тестирования</p>
            <div class="architecture-diagram">
                <div class="diagram-box executor-box">Executor Pattern</div>
                <div class="diagram-box data-box">Type-Safe Data</div>
                <div class="diagram-box experiment-box">Composable Experiments</div>
            </div>
        </div>

        <!-- Slide 2: Что такое HypEx -->
        <div class="slide">
            <h2>Что такое HypEx</h2>
            <ul>
                <li><span class="highlight">Библиотека</span> для статистического анализа экспериментов</li>
                <li><span class="highlight">Модульная архитектура</span> на основе Executor pattern</li>
                <li><span class="highlight">Типобезопасность</span> через систему ролей данных</li>
                <li><span class="highlight">Композиция</span> вместо наследования</li>
                <li><span class="highlight">Переиспользование</span> компонентов</li>
            </ul>
        </div>

        <!-- Slide 3: Проблемы которые решает -->
        <div class="slide">
            <h2>Проблемы которые решает HypEx</h2>
            <ul>
                <li><span class="emphasis">Сложность</span> настройки статистических тестов</li>
                <li><span class="emphasis">Дублирование кода</span> при анализе экспериментов</li>
                <li><span class="emphasis">Ошибки типов</span> в данных и параметрах</li>
                <li><span class="emphasis">Несовместимость</span> различных подходов к анализу</li>
                <li><span class="emphasis">Сложность масштабирования</span> аналитических пайплайнов</li>
            </ul>
        </div>

        <!-- Slide 4: Домены применения -->
        <div class="slide">
            <h2>Домены применения</h2>
            <div class="levels-grid">
                <div class="level-card">
                    <h4>A/B Testing</h4>
                    <p>Сравнение групп пользователей, статистические тесты, анализ эффекта</p>
                </div>
                <div class="level-card">
                    <h4>A/A Testing</h4>
                    <p>Проверка качества разбиения, валидация экспериментальной системы</p>
                </div>
                <div class="level-card">
                    <h4>Matching</h4>
                    <p>Поиск похожих объектов, анализ парных наблюдений</p>
                </div>
                <div class="level-card">
                    <h4>Homogeneity</h4>
                    <p>Тестирование однородности групп, проверка предпосылок</p>
                </div>
            </div>
        </div>

        <!-- Slide 5: Обзор архитектуры -->
        <div class="slide">
            <h2>Обзор архитектуры</h2>
            <div class="component-flow">
                <div class="diagram-box data-box">Dataset</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box executor-box">Executor</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box experiment-box">Experiment</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box data-box">Results</div>
            </div>
            <p>Данные проходят через цепочку исполнителей, объединенных в эксперименты</p>
        </div>

        <!-- Slide 6: Философия - Модульность -->
        <div class="slide">
            <h2>Философия: Модульность</h2>
            <ul>
                <li><span class="highlight">Мелкие компоненты</span> с четкой ответственностью</li>
                <li><span class="highlight">Единый интерфейс</span> для всех исполнителей</li>
                <li><span class="highlight">Простота тестирования</span> отдельных компонентов</li>
                <li><span class="highlight">Легкость замены</span> и расширения</li>
            </ul>
            <div class="code-block">
class Executor(ABC):
    def execute(self, data: ExperimentData) -> ExperimentData:
        # Единый интерфейс для всех компонентов
        pass
            </div>
        </div>

        <!-- Slide 7: Философия - Композиция -->
        <div class="slide">
            <h2>Композиция вместо наследования</h2>
            <ul>
                <li><span class="highlight">Гибкость</span> в построении пайплайнов</li>
                <li><span class="highlight">Переиспользование</span> готовых компонентов</li>
                <li><span class="highlight">Избежание</span> глубоких иерархий наследования</li>
                <li><span class="highlight">Динамическая настройка</span> поведения</li>
            </ul>
            <div class="code-block">
experiment = Experiment([
    AASplitter(),
    TTest(compare_by="groups"),
    AAScoreAnalyzer()
])
            </div>
        </div>

        <!-- Slide 8: Философия - Типобезопасность -->
        <div class="slide">
            <h2>Типобезопасность через роли</h2>
            <ul>
                <li><span class="highlight">ABCRole система</span> для описания назначения данных</li>
                <li><span class="highlight">Автоматическая валидация</span> совместимости</li>
                <li><span class="highlight">Предотвращение ошибок</span> на этапе выполнения</li>
                <li><span class="highlight">Самодокументирующийся код</span></li>
            </ul>
            <div class="code-block">
roles = {
    'user_id': TreatmentRole(),
    'revenue': TargetRole(),
    'age': FeatureRole()
}
            </div>
        </div>

        <!-- Slide 9: Философия - Единообразие -->
        <div class="slide">
            <h2>Единообразие интерфейсов</h2>
            <ul>
                <li><span class="highlight">Один метод execute()</span> для всех компонентов</li>
                <li><span class="highlight">Стандартные паттерны</span> конфигурации</li>
                <li><span class="highlight">Предсказуемое поведение</span> компонентов</li>
                <li><span class="highlight">Низкий порог входа</span> для новых разработчиков</li>
            </ul>
        </div>

        <!-- Slide 10: Философия - Расширяемость -->
        <div class="slide">
            <h2>Принципы расширяемости</h2>
            <ul>
                <li><span class="highlight">Extension точки</span> для интеграции библиотек</li>
                <li><span class="highlight">Pluggable архитектура</span> для новых алгоритмов</li>
                <li><span class="highlight">Минимальные зависимости</span> в базовом функционале</li>
                <li><span class="highlight">Обратная совместимость</span> API</li>
            </ul>
        </div>

        <!-- Slide 11: Уровень 1 - UI платформы -->
        <div class="slide">
            <h2>Уровень 1: Пользовательский интерфейс</h2>
            <div class="level-card">
                <h4>Пользователь: Бизнес пользователь</h4>
                <p><span class="highlight">Сегмент:</span> Платформа</p>
                <p><span class="emphasis">Идея:</span> Работа без знания статистики и кода</p>
                <p><span class="emphasis">Использование:</span> Выбор и запуск готовых сценариев</p>
            </div>
            <p>Простой интерфейс для выбора типа анализа и получения результатов</p>
        </div>

        <!-- Slide 12: Уровень 2 - Конструктор -->
        <div class="slide">
            <h2>Уровень 2: Конструктор сценариев</h2>
            <div class="level-card">
                <h4>Пользователь: Финансист/Аналитик</h4>
                <p><span class="highlight">Сегмент:</span> Платформа</p>
                <p><span class="emphasis">Идея:</span> Создание сценариев без программирования</p>
                <p><span class="emphasis">Использование:</span> Графический конструктор пайплайнов</p>
            </div>
            <p>Drag & drop интерфейс для составления аналитических сценариев</p>
        </div>

        <!-- Slide 13: Уровень 3 - Шаблонный код -->
        <div class="slide">
            <h2>Уровень 3: Настраиваемый шаблон</h2>
            <div class="level-card">
                <h4>Пользователь: Бизнес пользователь с доступом к данным</h4>
                <p><span class="highlight">Сегмент:</span> Dev пакет</p>
                <p><span class="emphasis">Идея:</span> Готовый код с настраиваемыми параметрами</p>
                <p><span class="emphasis">Использование:</span> Запуск шаблона в лабораторной зоне</p>
            </div>
            <div class="code-block">
# Настраиваемые параметры
CONTROL_SIZE = 0.5
RANDOM_STATE = 42
            </div>
        </div>

        <!-- Slide 14: Уровень 4 - Оболочка эксперимента -->
        <div class="slide">
            <h2>Уровень 4: Оболочка эксперимента</h2>
            <div class="level-card">
                <h4>Пользователь: Исследователь данных</h4>
                <p><span class="highlight">Сегмент:</span> Библиотека HypEx</p>
                <p><span class="emphasis">Идея:</span> Готовые эксперименты в несколько строк</p>
                <p><span class="emphasis">Использование:</span> ExperimentShell классы</p>
            </div>
            <div class="code-block">
ab_test = ABTest(additional_tests=["t-test"])
results = ab_test.execute(data)
            </div>
        </div>

        <!-- Slide 15: Уровень 5 - Создание эксперимента -->
        <div class="slide">
            <h2>Уровень 5: Создание эксперимента</h2>
            <div class="level-card">
                <h4>Пользователь: Разработчик, знакомый с Executor</h4>
                <p><span class="highlight">Сегмент:</span> Библиотека HypEx</p>
                <p><span class="emphasis">Идея:</span> Композиция из готовых блоков</p>
                <p><span class="emphasis">Использование:</span> Создание Experiment из Executor'ов</p>
            </div>
            <div class="code-block">
experiment = Experiment([
    TTest(compare_by="groups"),
    ABAnalyzer(multitest_method="holm")
])
            </div>
        </div>

        <!-- Slide 16: Уровень 6 - Создание Executor -->
        <div class="slide">
            <h2>Уровень 6: Создание Executor</h2>
            <div class="level-card">
                <h4>Пользователь: Разработчик, знакомый с типовыми блоками</h4>
                <p><span class="highlight">Сегмент:</span> Библиотека HypEx</p>
                <p><span class="emphasis">Идея:</span> Наследование от готовых классов</p>
                <p><span class="emphasis">Использование:</span> Создание кастомных Executor'ов</p>
            </div>
            <div class="code-block">
class CustomTest(StatHypothesisTesting):
    def _inner_function(self, data, test_data):
        return my_statistical_test(data, test_data)
            </div>
        </div>

        <!-- Slide 17: Уровень 7 - Модификация библиотеки -->
        <div class="slide">
            <h2>Уровень 7: Модификация библиотеки</h2>
            <div class="level-card">
                <h4>Пользователь: Разработчик, знакомый с архитектурой HypEx</h4>
                <p><span class="highlight">Сегмент:</span> Библиотека HypEx</p>
                <p><span class="emphasis">Идея:</span> Глубокие доработки базовых механик</p>
                <p><span class="emphasis">Использование:</span> Модификация Extension, Backend</p>
            </div>
        </div>

        <!-- Slide 18: Уровень 8 - Ядро -->
        <div class="slide">
            <h2>Уровень 8: Ядро архитектуры</h2>
            <div class="level-card">
                <h4>Пользователь: Архитектор HypEx</h4>
                <p><span class="highlight">Сегмент:</span> Библиотека HypEx</p>
                <p><span class="emphasis">Идея:</span> Изменение фундаментального поведения</p>
                <p><span class="emphasis">Использование:</span> Новое поколение архитектуры</p>
            </div>
        </div>

        <!-- Slide 19: Executor Pattern - Концепция -->
        <div class="slide">
            <h2>Executor Pattern: Концепция</h2>
            <ul>
                <li><span class="highlight">Единый интерфейс</span> для всех операций</li>
                <li><span class="highlight">Инкапсуляция</span> бизнес-логики</li>
                <li><span class="highlight">Стандартизация</span> входных и выходных данных</li>
                <li><span class="highlight">Композиция</span> сложных операций из простых</li>
            </ul>
            <div class="architecture-diagram">
                <div class="diagram-box executor-box">execute(ExperimentData) → ExperimentData</div>
            </div>
        </div>

        <!-- Slide 20: Executor - Жизненный цикл -->
        <div class="slide">
            <h2>Жизненный цикл Executor</h2>
            <div class="component-flow">
                <div class="diagram-box">Создание</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Конфигурация</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box executor-box">Выполнение</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Результат</div>
            </div>
            <div class="code-block">
executor = TTest(compare_by="groups")
executor.set_params({"reliability": 0.01})
result = executor.execute(experiment_data)
            </div>
        </div>

        <!-- Slide 21: Типы Executor'ов -->
        <div class="slide">
            <h2>Типы Executor'ов</h2>
            <div class="levels-grid">
                <div class="level-card">
                    <h4>Calculator</h4>
                    <p>Вычислительные операции без изменения данных</p>
                </div>
                <div class="level-card">
                    <h4>Transformer</h4>
                    <p>Преобразование исходных данных</p>
                </div>
                <div class="level-card">
                    <h4>Comparator</h4>
                    <p>Сравнение групп и проведение тестов</p>
                </div>
                <div class="level-card">
                    <h4>MLExecutor</h4>
                    <p>Машинное обучение и предсказания</p>
                </div>
            </div>
        </div>

        <!-- Slide 22: Executor - Композиция -->
        <div class="slide">
            <h2>Композиция Executor'ов</h2>
            <ul>
                <li><span class="highlight">Последовательное</span> выполнение в Experiment</li>
                <li><span class="highlight">Передача данных</span> между компонентами</li>
                <li><span class="highlight">Накопление результатов</span> в ExperimentData</li>
                <li><span class="highlight">Условное выполнение</span> через IfExecutor</li>
            </ul>
            <div class="component-flow">
                <div class="diagram-box executor-box">Exec1</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box executor-box">Exec2</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box executor-box">Exec3</div>
            </div>
        </div>

        <!-- Slide 23: Executor - Пайплайны -->
        <div class="slide">
            <h2>Пайплайны из Executor'ов</h2>
            <div class="code-block">
AA_METRICS = Experiment([
    GroupSizes(grouping_role=AdditionalTreatmentRole()),
    OnRoleExperiment([
        GroupDifference(compare_by="groups"),
        TTest(compare_by="groups"),
        KSTest(compare_by="groups")
    ], role=TargetRole()),
    OneAAStatAnalyzer()
])
            </div>
            <p>Готовые пайплайны для типовых задач анализа</p>
        </div>

        <!-- Slide 24: Executor - Конфигурирование -->
        <div class="slide">
            <h2>Конфигурирование Executor'ов</h2>
            <ul>
                <li><span class="highlight">set_params()</span> для настройки параметров</li>
                <li><span class="highlight">Типизированные параметры</span> по классам</li>
                <li><span class="highlight">Динамическая настройка</span> во время выполнения</li>
                <li><span class="highlight">Валидация параметров</span> на уровне класса</li>
            </ul>
            <div class="code-block">
experiment.set_params({
    TTest: {"calc_kwargs": {"equal_var": False}},
    AASplitter: {"control_size": 0.6}
})
            </div>
        </div>

        <!-- Slide 25: Dataset vs ExperimentData -->
        <div class="slide">
            <h2>Dataset vs ExperimentData</h2>
            <div class="levels-grid">
                <div class="level-card">
                    <h4>Dataset</h4>
                    <p><span class="highlight">Данные:</span> Табличные данные с ролями</p>
                    <p><span class="highlight">Назначение:</span> Хранение исходных данных</p>
                    <p><span class="highlight">Операции:</span> Фильтрация, группировка, агрегация</p>
                </div>
                <div class="level-card">
                    <h4>ExperimentData</h4>
                    <p><span class="highlight">Данные:</span> Dataset + результаты анализа</p>
                    <p><span class="highlight">Назначение:</span> Контейнер для эксперимента</p>
                    <p><span class="highlight">Операции:</span> Накопление результатов</p>
                </div>
            </div>
        </div>

        <!-- Slide 26: ABCRole Hierarchy -->
        <div class="slide">
            <h2>ABCRole Hierarchy</h2>
            <div class="architecture-diagram">
                <div class="diagram-box data-box">ABCRole</div><br>
                <div class="diagram-box">TargetRole</div>
                <div class="diagram-box">TreatmentRole</div>
                <div class="diagram-box">FeatureRole</div><br>
                <div class="diagram-box">AdditionalTargetRole</div>
                <div class="diagram-box">TempTargetRole</div>
            </div>
            <p>Иерархия ролей определяет поведение компонентов с данными</p>
        </div>

        <!-- Slide 27: Роли и поведение -->
        <div class="slide">
            <h2>Влияние ролей на поведение</h2>
            <ul>
                <li><span class="highlight">Автоматический поиск</span> релевантных колонок</li>
                <li><span class="highlight">Валидация совместимости</span> операций</li>
                <li><span class="highlight">Типизированные вычисления</span> по типам данных</li>
                <li><span class="highlight">Документирование</span> назначения данных</li>
            </ul>
            <div class="code-block">
target_fields = data.ds.search_columns(
    TargetRole(), search_types=[int, float]
)
            </div>
        </div>

        <!-- Slide 28: Временные роли -->
        <div class="slide">
            <h2>Временные роли (tmp_roles)</h2>
            <ul>
                <li><span class="highlight">Динамическое переназначение</span> ролей</li>
                <li><span class="highlight">OnRoleExperiment</span> использует tmp_roles</li>
                <li><span class="highlight">Автоматическая очистка</span> после выполнения</li>
                <li><span class="highlight">Изоляция изменений</span> от основных ролей</li>
            </ul>
            <div class="code-block">
data.ds.tmp_roles = {field: TempTargetRole()}
result = experiment.execute(data)
data.ds.tmp_roles = {}  # Очистка
            </div>
        </div>

        <!-- Slide 29: Backend система -->
        <div class="slide">
            <h2>Backend система</h2>
            <div class="levels-grid">
                <div class="level-card">
                    <h4>PandasBackend</h4>
                    <p>Основная реализация на pandas DataFrame</p>
                </div>
                <div class="level-card">
                    <h4>Абстракция</h4>
                    <p>DatasetBackendCalc, DatasetBackendNavigation</p>
                </div>
                <div class="level-card">
                    <h4>Расширяемость</h4>
                    <p>Возможность добавления других backend'ов</p>
                </div>
            </div>
            <p>Единый интерфейс для различных хранилищ данных</p>
        </div>

        <!-- Slide 30: Experiment как контейнер -->
        <div class="slide">
            <h2>Experiment как контейнер</h2>
            <ul>
                <li><span class="highlight">Последовательность</span> Executor'ов</li>
                <li><span class="highlight">Управление состоянием</span> между шагами</li>
                <li><span class="highlight">Автоматическое копирование</span> данных при необходимости</li>
                <li><span class="highlight">Трекинг результатов</span> выполнения</li>
            </ul>
            <div class="code-block">
experiment = Experiment(
    executors=[splitter, comparator, analyzer],
    transformer=False  # Без копирования данных
)
            </div>
        </div>

        <!-- Slide 31: ParamsExperiment -->
        <div class="slide">
            <h2>ParamsExperiment</h2>
            <ul>
                <li><span class="highlight">Перебор параметров</span> для Executor'ов</li>
                <li><span class="highlight">Автоматическое</span> создание комбинаций</li>
                <li><span class="highlight">Параллельное выполнение</span> вариантов</li>
                <li><span class="highlight">Агрегация результатов</span> через Reporter</li>
            </ul>
            <div class="code-block">
ParamsExperiment(
    executors=[ONE_AA_TEST],
    params={
        AASplitter: {"random_state": range(2000)},
        Comparator: {"space": [SpaceEnum.additional]}
    }
)
            </div>
        </div>

        <!-- Slide 32: GroupExperiment -->
        <div class="slide">
            <h2>GroupExperiment</h2>
            <ul>
                <li><span class="highlight">Выполнение по группам</span> данных</li>
                <li><span class="highlight">Автоматическое разбиение</span> по ролям</li>
                <li><span class="highlight">Независимая обработка</span> каждой группы</li>
                <li><span class="highlight">Объединение результатов</span> в единый отчет</li>
            </ul>
            <div class="code-block">
GroupExperiment(
    executors=[matching_pipeline],
    searching_role=GroupingRole(),
    reporter=MatchingDatasetReporter()
)
            </div>
        </div>

        <!-- Slide 33: IfParamsExperiment -->
        <div class="slide">
            <h2>IfParamsExperiment</h2>
            <ul>
                <li><span class="highlight">Условное выполнение</span> экспериментов</li>
                <li><span class="highlight">Остановка по критерию</span> качества</li>
                <li><span class="highlight">Оптимизация времени</span> выполнения</li>
                <li><span class="highlight">IfExecutor</span> как критерий остановки</li>
            </ul>
            <div class="code-block">
IfParamsExperiment(
    executors=[aa_test],
    stopping_criterion=IfAAExecutor(sample_size=0.8),
    params=parameter_grid
)
            </div>
        </div>

        <!-- Slide 34: Вложенность экспериментов -->
        <div class="slide">
            <h2>Вложенность и иерархия</h2>
            <div class="component-flow">
                <div class="diagram-box experiment-box">ParamsExperiment</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box experiment-box">Experiment</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box executor-box">Executor</div>
            </div>
            <ul>
                <li><span class="highlight">Эксперименты</span> могут содержать другие эксперименты</li>
                <li><span class="highlight">Рекурсивная обработка</span> вложенной структуры</li>
                <li><span class="highlight">Изоляция контекстов</span> выполнения</li>
            </ul>
        </div>

        <!-- Slide 35: Иерархия композиции -->
        <div class="slide">
            <h2>Иерархия композиции</h2>
            <div class="code-block">
AA_TEST = Experiment([
    ParamsExperiment([
        Experiment([  # ONE_AA_TEST
            AASplitter(),
            Experiment([  # AA_METRICS
                GroupSizes(),
                OnRoleExperiment([TTest(), KSTest()])
            ])
        ])
    ]),
    AAScoreAnalyzer()
])
            </div>
        </div>

        <!-- Slide 36: Comparators -->
        <div class="slide">
            <h2>Comparators</h2>
            <ul>
                <li><span class="highlight">Сравнение групп</span> по различным критериям</li>
                <li><span class="highlight">Гибкие режимы</span> сравнения (groups, columns, cross)</li>
                <li><span class="highlight">Статистические тесты</span> и метрики</li>
                <li><span class="highlight">Автоматическая валидация</span> данных</li>
            </ul>
            <div class="architecture-diagram">
                <div class="diagram-box">GroupDifference</div>
                <div class="diagram-box">TTest</div>
                <div class="diagram-box">Chi2Test</div>
                <div class="diagram-box">GroupSizes</div>
            </div>
        </div>

        <!-- Slide 37: Transformers -->
        <div class="slide">
            <h2>Transformers</h2>
            <ul>
                <li><span class="highlight">Предобработка данных</span> перед анализом</li>
                <li><span class="highlight">Фильтрация</span> и очистка данных</li>
                <li><span class="highlight">Кодирование</span> категориальных переменных</li>
                <li><span class="highlight">Заполнение пропусков</span> и нормализация</li>
            </ul>
            <div class="architecture-diagram">
                <div class="diagram-box">NaFiller</div>
                <div class="diagram-box">OutliersFilter</div>
                <div class="diagram-box">DummyEncoder</div>
                <div class="diagram-box">CategoryAggregator</div>
            </div>
        </div>

        <!-- Slide 38: Analyzers -->
        <div class="slide">
            <h2>Analyzers</h2>
            <ul>
                <li><span class="highlight">Агрегация результатов</span> тестов</li>
                <li><span class="highlight">Вычисление метрик</span> качества</li>
                <li><span class="highlight">Принятие решений</span> по критериям</li>
                <li><span class="highlight">Подготовка</span> финальных отчетов</li>
            </ul>
            <div class="architecture-diagram">
                <div class="diagram-box">ABAnalyzer</div>
                <div class="diagram-box">AAScoreAnalyzer</div>
                <div class="diagram-box">MatchingAnalyzer</div>
                <div class="diagram-box">OneAAStatAnalyzer</div>
            </div>
        </div>

        <!-- Slide 39: Reporters -->
        <div class="slide">
            <h2>Reporters</h2>
            <ul>
                <li><span class="highlight">Форматирование результатов</span> для вывода</li>
                <li><span class="highlight">Различные форматы</span> (dict, Dataset)</li>
                <li><span class="highlight">Настраиваемая структура</span> отчетов</li>
                <li><span class="highlight">Интеграция</span> с ParamsExperiment</li>
            </ul>
            <div class="code-block">
reporter = DatasetReporter(
    OneAADictReporter(front=False)
)
            </div>
        </div>

        <!-- Slide 40: Splitters -->
        <div class="slide">
            <h2>Splitters</h2>
            <ul>
                <li><span class="highlight">Разбиение данных</span> на группы</li>
                <li><span class="highlight">Контроль качества</span> разбиения</li>
                <li><span class="highlight">Стратификация</span> по признакам</li>
                <li><span class="highlight">Воспроизводимость</span> через random_state</li>
            </ul>
            <div class="architecture-diagram">
                <div class="diagram-box">AASplitter</div>
                <div class="diagram-box">AASplitterWithStratification</div>
            </div>
        </div>

        <!-- Slide 41: Extensions -->
        <div class="slide">
            <h2>Extensions</h2>
            <ul>
                <li><span class="highlight">Интеграция</span> с внешними библиотеками</li>
                <li><span class="highlight">Унифицированный интерфейс</span> для разных backend'ов</li>
                <li><span class="highlight">Изоляция зависимостей</span> от основного кода</li>
                <li><span class="highlight">Простота добавления</span> новых алгоритмов</li>
            </ul>
            <div class="architecture-diagram">
                <div class="diagram-box">scipy_stats</div>
                <div class="diagram-box">statsmodels</div>
                <div class="diagram-box">faiss</div>
                <div class="diagram-box">scipy_linalg</div>
            </div>
        </div>

        <!-- Slide 42: Роль компонентов -->
        <div class="slide">
            <h2>Роль компонентов в архитектуре</h2>
            <div class="component-flow">
                <div class="diagram-box">Transformers</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Splitters</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Comparators</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Analyzers</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Reporters</div>
            </div>
            <p>Каждый тип компонента выполняет специфическую роль в пайплайне</p>
        </div>

        <!-- Slide 43: ExperimentShell как основа -->
        <div class="slide">
            <h2>ExperimentShell как основа</h2>
            <ul>
                <li><span class="highlight">Базовый класс</span> для готовых решений</li>
                <li><span class="highlight">Стандартизация</span> интерфейса экспериментов</li>
                <li><span class="highlight">Интеграция</span> Experiment + Output</li>
                <li><span class="highlight">Единообразная настройка</span> параметров</li>
            </ul>
            <div class="code-block">
class AATest(ExperimentShell):
    def __init__(self, precision_mode=False):
        super().__init__(
            experiment=AA_TEST,
            output=AAOutput()
        )
            </div>
        </div>

        <!-- Slide 44: AATest -->
        <div class="slide">
            <h2>AATest</h2>
            <ul>
                <li><span class="highlight">Проверка качества</span> разбиения на группы</li>
                <li><span class="highlight">Множественные сплиты</span> с разными random_state</li>
                <li><span class="highlight">Статистические тесты</span> однородности</li>
                <li><span class="highlight">Автоматический выбор</span> лучшего разбиения</li>
            </ul>
            <div class="code-block">
aa_test = AATest(
    precision_mode=True,
    stratification=True,
    control_size=0.5
)
            </div>
        </div>

        <!-- Slide 45: ABTest -->
        <div class="slide">
            <h2>ABTest</h2>
            <ul>
                <li><span class="highlight">Сравнение</span> экспериментальных групп</li>
                <li><span class="highlight">Множественные тесты</span> (t-test, chi2, u-test)</li>
                <li><span class="highlight">Коррекция</span> на множественное тестирование</li>
                <li><span class="highlight">Настраиваемые</span> статистические критерии</li>
            </ul>
            <div class="code-block">
ab_test = ABTest(
    additional_tests=["t-test", "chi2-test"],
    multitest_method="bonferroni"
)
            </div>
        </div>

        <!-- Slide 46: HomogeneityTest -->
        <div class="slide">
            <h2>HomogeneityTest</h2>
            <ul>
                <li><span class="highlight">Проверка однородности</span> между группами</li>
                <li><span class="highlight">Валидация предпосылок</span> для тестирования</li>
                <li><span class="highlight">Множественные тесты</span> по всем переменным</li>
                <li><span class="highlight">Диагностика</span> проблем в данных</li>
            </ul>
            <div class="code-block">
homo_test = HomogeneityTest()
results = homo_test.execute(data)
            </div>
        </div>

        <!-- Slide 47: Matching -->
        <div class="slide">
            <h2>Matching</h2>
            <ul>
                <li><span class="highlight">Поиск похожих объектов</span> в группах</li>
                <li><span class="highlight">Различные метрики</span> расстояния</li>
                <li><span class="highlight">Оценка качества</span> сопоставления</li>
                <li><span class="highlight">Интеграция с Faiss</span> для быстрого поиска</li>
            </ul>
            <div class="code-block">
matching = Matching(
    distance="mahalanobis",
    metric="ate",
    quality_tests=["t-test", "ks-test"]
)
            </div>
        </div>

        <!-- Slide 48: Кастомизация готовых решений -->
        <div class="slide">
            <h2>Кастомизация готовых решений</h2>
            <ul>
                <li><span class="highlight">Настройка параметров</span> через конструктор</li>
                <li><span class="highlight">Модификация эксперимента</span> после создания</li>
                <li><span class="highlight">Замена компонентов</span> на кастомные</li>
                <li><span class="highlight">Расширение функциональности</span> наследованием</li>
            </ul>
            <div class="code-block">
class CustomAATest(AATest):
    def __init__(self):
        super().__init__()
        self.experiment.set_params({
            TTest: {"reliability": 0.01}
        })
            </div>
        </div>

        <!-- Slide 49: Output классы -->
        <div class="slide">
            <h2>Output классы</h2>
            <ul>
                <li><span class="highlight">Структурированный вывод</span> результатов</li>
                <li><span class="highlight">Автоматическое извлечение</span> данных</li>
                <li><span class="highlight">Форматирование</span> для пользователя</li>
                <li><span class="highlight">Интеграция</span> с Reporter системой</li>
            </ul>
            <div class="architecture-diagram">
                <div class="diagram-box">AAOutput</div>
                <div class="diagram-box">ABOutput</div>
                <div class="diagram-box">MatchingOutput</div>
                <div class="diagram-box">HomoOutput</div>
            </div>
        </div>

        <!-- Slide 50: Reporter интеграция -->
        <div class="slide">
            <h2>Reporter интеграция</h2>
            <div class="component-flow">
                <div class="diagram-box">ExperimentData</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Reporter</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Output</div>
            </div>
            <ul>
                <li><span class="highlight">Автоматическое форматирование</span> результатов</li>
                <li><span class="highlight">Множественные Reporter'ы</span> для разных нужд</li>
                <li><span class="highlight">Кастомизация</span> формата вывода</li>
            </ul>
        </div>

        <!-- Slide 51: Связь с экспериментами -->
        <div class="slide">
            <h2>Связь Output с экспериментами</h2>
            <div class="code-block">
class ABOutput(Output):
    def __init__(self):
        super().__init__(
            resume_reporter=ABDatasetReporter(),
            additional_reporters={
                'statistics': StatsReporter()
            }
        )
            </div>
            <p>Output автоматически извлекает и форматирует результаты эксперимента</p>
        </div>

        <!-- Slide 52: Система извлечения -->
        <div class="slide">
            <h2>Система извлечения результатов</h2>
            <ul>
                <li><span class="highlight">get_ids()</span> для поиска результатов по типу</li>
                <li><span class="highlight">Автоматическая навигация</span> по ExperimentData</li>
                <li><span class="highlight">Извлечение</span> из разных пространств данных</li>
                <li><span class="highlight">Форматирование</span> в удобный вид</li>
            </ul>
            <div class="code-block">
ids = data.get_ids(
    TTest, ExperimentDataEnum.analysis_tables
)
            </div>
        </div>

        <!-- Slide 53: Общая схема архитектуры -->
        <div class="slide">
            <h2>Общая схема архитектуры</h2>
            <div class="architecture-diagram">
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; text-align: center;">
                    <div>
                        <div class="diagram-box data-box">Dataset</div>
                        <div class="diagram-box data-box">ExperimentData</div>
                    </div>
                    <div>
                        <div class="diagram-box executor-box">Executor</div>
                        <div class="diagram-box experiment-box">Experiment</div>
                        <div class="diagram-box experiment-box">ExperimentShell</div>
                    </div>
                    <div>
                        <div class="diagram-box">Reporter</div>
                        <div class="diagram-box">Output</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 54: Схема взаимодействий -->
        <div class="slide">
            <h2>Схема взаимодействий</h2>
            <div class="component-flow">
                <div class="diagram-box data-box">Raw Data</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box data-box">Dataset</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box executor-box">Executors</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box data-box">Results</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Reports</div>
            </div>
        </div>

        <!-- Slide 55: Диаграмма наследования -->
        <div class="slide">
            <h2>Диаграмма наследования</h2>
            <div class="architecture-diagram">
                <div style="text-align: center;">
                    <div class="diagram-box executor-box">Executor (ABC)</div><br>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem; margin-top: 1rem;">
                        <div class="diagram-box">Calculator</div>
                        <div class="diagram-box">IfExecutor</div>
                        <div class="diagram-box">Comparator</div>
                        <div class="diagram-box">MLExecutor</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 56: Поток данных -->
        <div class="slide">
            <h2>Поток данных в архитектуре</h2>
            <div class="component-flow">
                <div class="diagram-box data-box">pandas.DataFrame</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box data-box">Dataset + Roles</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box data-box">ExperimentData</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Formatted Output</div>
            </div>
        </div>

        <!-- Slide 57: Композиционная схема -->
        <div class="slide">
            <h2>Композиционная схема</h2>
            <div class="architecture-diagram">
                <div style="text-align: center;">
                    <div class="diagram-box experiment-box">ParamsExperiment</div><br>
                    <div style="margin: 1rem 0;">содержит</div>
                    <div class="diagram-box experiment-box">Experiment</div><br>
                    <div style="margin: 1rem 0;">содержит</div>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem;">
                        <div class="diagram-box executor-box">Exec1</div>
                        <div class="diagram-box executor-box">Exec2</div>
                        <div class="diagram-box executor-box">Exec3</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 58: Точки расширения -->
        <div class="slide">
            <h2>Точки расширения</h2>
            <ul>
                <li><span class="highlight">Новые Executor'ы</span> через наследование</li>
                <li><span class="highlight">Extensions</span> для интеграции библиотек</li>
                <li><span class="highlight">Backend'ы</span> для различных хранилищ</li>
                <li><span class="highlight">Reporter'ы</span> для новых форматов</li>
                <li><span class="highlight">Роли данных</span> для специфических задач</li>
            </ul>
        </div>

        <!-- Slide 59: Extensions архитектура -->
        <div class="slide">
            <h2>Extensions архитектура</h2>
            <div class="component-flow">
                <div class="diagram-box">HypEx Core</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">Extension Interface</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">External Library</div>
            </div>
            <ul>
                <li><span class="highlight">Унифицированный интерфейс</span> calc()</li>
                <li><span class="highlight">Изоляция зависимостей</span> от основного кода</li>
                <li><span class="highlight">Простота добавления</span> новых алгоритмов</li>
            </ul>
        </div>

        <!-- Slide 60: Интеграции -->
        <div class="slide">
            <h2>Интеграции с библиотеками</h2>
            <div class="levels-grid">
                <div class="level-card">
                    <h4>scipy.stats</h4>
                    <p>Статистические тесты: t-test, KS-test, chi2, Mann-Whitney</p>
                </div>
                <div class="level-card">
                    <h4>statsmodels</h4>
                    <p>Коррекция множественных сравнений, продвинутая статистика</p>
                </div>
                <div class="level-card">
                    <h4>faiss</h4>
                    <p>Быстрый поиск ближайших соседей для matching</p>
                </div>
                <div class="level-card">
                    <h4>scipy.linalg</h4>
                    <p>Линейная алгебра: разложения, расстояния</p>
                </div>
            </div>
        </div>

        <!-- Slide 61: Добавление Extension -->
        <div class="slide">
            <h2>Добавление новых Extension</h2>
            <div class="code-block">
class MyExtension(Extension):
    def _calc_pandas(self, data: Dataset, **kwargs):
        # Интеграция с внешней библиотекой
        result = external_library.process(data.data)
        return self.result_to_dataset(result, roles)
            </div>
            <p>Простое добавление новых алгоритмов через Extension интерфейс</p>
        </div>

        <!-- Slide 62: ExperimentData как хранилище -->
        <div class="slide">
            <h2>ExperimentData как хранилище</h2>
            <ul>
                <li><span class="highlight">Центральное хранилище</span> состояния эксперимента</li>
                <li><span class="highlight">Накопление результатов</span> между шагами</li>
                <li><span class="highlight">Изоляция</span> данных разных экспериментов</li>
                <li><span class="highlight">Автоматическое управление</span> жизненным циклом</li>
            </ul>
            <div class="architecture-diagram">
                <div class="diagram-box data-box">ds: Dataset</div>
                <div class="diagram-box">additional_fields</div>
                <div class="diagram-box">analysis_tables</div>
                <div class="diagram-box">variables</div>
                <div class="diagram-box">groups</div>
            </div>
        </div>

        <!-- Slide 63: Пространства данных -->
        <div class="slide">
            <h2>Пространства данных</h2>
            <div class="levels-grid">
                <div class="level-card">
                    <h4>ds (Dataset)</h4>
                    <p>Основные исходные данные</p>
                </div>
                <div class="level-card">
                    <h4>additional_fields</h4>
                    <p>Дополнительные вычисленные колонки</p>
                </div>
                <div class="level-card">
                    <h4>analysis_tables</h4>
                    <p>Результаты статистических тестов</p>
                </div>
                <div class="level-card">
                    <h4>variables</h4>
                    <p>Скалярные результаты и метрики</p>
                </div>
                <div class="level-card">
                    <h4>groups</h4>
                    <p>Предвычисленные группировки данных</p>
                </div>
            </div>
        </div>

        <!-- Slide 64: ID система -->
        <div class="slide">
            <h2>ID система</h2>
            <ul>
                <li><span class="highlight">Уникальные идентификаторы</span> для результатов</li>
                <li><span class="highlight">Автоматическая генерация</span> на основе параметров</li>
                <li><span class="highlight">Поиск результатов</span> по типу Executor'а</li>
                <li><span class="highlight">Навигация</span> по пространствам данных</li>
            </ul>
            <div class="code-block">
# Формат ID: ClassName⊔params_hash⊔key
"TTest⊔reliability_0.05⊔target_revenue"
            </div>
        </div>

        <!-- Slide 65: Управление состоянием -->
        <div class="slide">
            <h2>Управление состоянием</h2>
            <div class="component-flow">
                <div class="diagram-box">set_value()</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box data-box">ExperimentData</div>
                <div class="flow-arrow">→</div>
                <div class="diagram-box">get_ids()</div>
            </div>
            <ul>
                <li><span class="highlight">Централизованное</span> управление результатами</li>
                <li><span class="highlight">Типизированные</span> пространства данных</li>
                <li><span class="highlight">Автоматическая навигация</span> по результатам</li>
            </ul>
        </div>

        <!-- Slide 66: Переиспользование -->
        <div class="slide">
            <h2>Преимущества: Переиспользование</h2>
            <ul>
                <li><span class="highlight">Модульные компоненты</span> для разных задач</li>
                <li><span class="highlight">Стандартизированные интерфейсы</span></li>
                <li><span class="highlight">Готовые пайплайны</span> для типовых анализов</li>
                <li><span class="highlight">Композиция</span> сложного из простого</li>
            </ul>
            <div class="code-block">
# Один Executor в разных экспериментах
t_test = TTest(compare_by="groups")
ab_experiment.add_executor(t_test)
aa_experiment.add_executor(t_test)
            </div>
        </div>

        <!-- Slide 67: Тестируемость и читаемость -->
        <div class="slide">
            <h2>Тестируемость и читаемость</h2>
            <ul>
                <li><span class="highlight">Изолированное тестирование</span> компонентов</li>
                <li><span class="highlight">Мокирование</span> зависимостей</li>
                <li><span class="highlight">Декларативное описание</span> пайплайнов</li>
                <li><span class="highlight">Самодокументирующийся код</span> через роли</li>
            </ul>
            <div class="code-block">
def test_t_test():
    executor = TTest(compare_by="groups")
    result = executor.execute(test_data)
    assert result.analysis_tables[...]["pass"]
            </div>
        </div>

        <!-- Navigation -->
        <div class="navigation">
            <button class="nav-btn" id="prev-btn" onclick="previousSlide()">← Назад</button>
            <button class="nav-btn" id="next-btn" onclick="nextSlide()">Далее →</button>
        </div>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        
        document.getElementById('total-slides').textContent = totalSlides;

        function showSlide(n) {
            slides[currentSlide].classList.remove('active');
            currentSlide = (n + totalSlides) % totalSlides;
            slides[currentSlide].classList.add('active');
            
            document.getElementById('current-slide').textContent = currentSlide + 1;
            
            // Update navigation buttons
            document.getElementById('prev-btn').disabled = currentSlide === 0;
            document.getElementById('next-btn').disabled = currentSlide === totalSlides - 1;
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                showSlide(currentSlide + 1);
            }
        }

        function previousSlide() {
            if (currentSlide > 0) {
                showSlide(currentSlide - 1);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                previousSlide();
            } else if (e.key === 'Home') {
                e.preventDefault();
                showSlide(0);
            } else if (e.key === 'End') {
                e.preventDefault();
                showSlide(totalSlides - 1);
            }
        });

        // Touch navigation for mobile
        let startX = 0;
        let startY = 0;

        document.addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
        });

        document.addEventListener('touchend', function(e) {
            if (!startX || !startY) return;

            let endX = e.changedTouches[0].clientX;
            let endY = e.changedTouches[0].clientY;

            let diffX = startX - endX;
            let diffY = startY - endY;

            // Only handle horizontal swipes
            if (Math.abs(diffX) > Math.abs(diffY)) {
                if (Math.abs(diffX) > 50) { // Minimum swipe distance
                    if (diffX > 0) {
                        nextSlide(); // Swipe left - next slide
                    } else {
                        previousSlide(); // Swipe right - previous slide
                    }
                }
            }

            startX = 0;
            startY = 0;
        });

        // Initialize
        showSlide(0);
    </script>
</body>
</html>